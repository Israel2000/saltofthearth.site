<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
  <link rel="shortcut icon" type="image/jpg" href="assests/bulletoficonafrica.png" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />
  <title>Salt of the Earth</title>
  <script src="forms-script.js"></script>

</head>
<style>
  .text-center-counsleling {
    padding: 5px;
    background-color: #6200c3;
    color: white;
    /* border-radius: 7px; */
    text-align: center;
  }

  .nav-pills .nav-link.active,
  .nav-pills .show>.nav-link {
    color: #6200c3;
    background-color: white;
    border: 2px solid #6200c3;
  }



  .btn.active {
    color: #6200c3;
    background-color: white;
    border: 2px solid #6200c3;
  }


  /* button#pills-profile-tab.nav-link {
      color: #6200c3 !important;
    } */

  .form-check-input:checked {
    background-color: #6200c3;
    border-color: #6200c3;
  }
</style>

<body>
  <!-- First Navbar with Logo on Left and Two Items on Far Right -->
  <nav class="navbar navbar-light navbar-first bg-light">
    <div class="container">
      <a class="navbar-brand" href="index.html"><img src="assests/logo.svg" width="300px" /></a>
      <ul class="navbar-nav ms-auto">
        <!-- <li class="nav-item">
          <a class="nav-link" href="membersignin.html">Membership</a>
        </li> -->
        <li class="nav-item">
          <a type="button" class="btn btn-primary" class="nav-link" href="donation.html">Give
            <i class="fa fa-heart text-warning" style="margin-left: 10px"></i></a>
        </li>
      </ul>
    </div>
  </nav>
  <!-- Second Navbar with Centered Items -->
  <nav class="navbar navbar-expand-lg navbar-light navbar-second bg-light">
    <div class="container">
      <!-- Hamburger icon for small screens -->
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
        aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse justify-content-center" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item mb-2">
            <a class="nav-link" href="index.html">Home</a>
          </li>
          <li class="nav-item mb-2">
            <a class="nav-link mr-2" href="about.html">About Us</a>
          </li>

          <!--           <li class="nav-item mb-2">
            <a class="nav-link" href="blog.html">Blog</a>
          </li> -->
          <li class="nav-item mb-2">
            <a class="nav-link" href="videos.html">Videos</a>
          </li>
          <li class="nav-item dropdown mb-2">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown"
              aria-haspopup="true" aria-expanded="false">
              Counseling
            </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdown" style="border: 1px solid #6200c3">
              <a class="dropdown-item" href="counseling_UnMarried.html">ላላገቡ</a>
              <a class="dropdown-item" href="counseling_Married .html">ላገቡ</a>
            </div>
          </li>
          <li class="nav-item mb-2">
            <a class="nav-link" href="newFriendFinder.html">አዲስ ጓደኛ እፈልጋለሁ</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <h3 class="text-center-counsleling">Form: Counseling page</h3>
  <div class="container">
    <div class="row">
      <div class="col-md-9"> <!-- 75% width for left column on md screens and above -->

        <!-- ===================== -->

        <div class="custom-section">
          <!-- Content for the left column -->
          <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
            <li class="nav-item" role="presentation">

              <!-- <button class="nav-link " href="counseling_UnMarried.html" aria-controls="tab1" role="tab" id="pills-home-tab" data-bs-toggle="pill" data-bs-target="#pills-home" type="button" role="tab" aria-controls="tab1" aria-selected="true">ላላገቡ </button> -->
              <a href="counseling_UnMarried.html" class="btn ">ላላገቡ</a>

            </li>
            <li class="nav-item" role="presentation">


              <!-- <button class="nav-link active" href="counseling_Married .html" aria-controls="tab2" id="pills-profile-tab" data-bs-toggle="pill" data-bs-target="#pills-profile" type="button" role="tab" aria-controls="tab2" aria-selected="false">ላገቡ</button> -->
              <a href="counseling_Married .html" class="btn active">ላገቡ</a>



            </li>
          </ul>
          <div class="tab-content" id="pills-tabContent">
            <div class="tab-pane fade show active " id="pills-home" role="tabpanel" aria-labelledby="pills-home-tab">
              <!-- married form outer -->

              <!-- ================================= -->



              <form class="custom-form p-5" name="cfm2" id="f2">
                <!-- Question 1 -->
                <span style="font-weight: bold; color: #6200c3;">ላገቡ:- Select 1 of 12 questions. ok</span>
                <div class="mt-2 mb-3">
                  <input class="form-check-input" type="radio" checked name="question" id="q1"
                    value="Question 1: በተጋባን በመጀመሪያው አመት ላይ የሚታዩ አዳድስ ባህሪያት እንዴት መቋቋም ይቻላል?" required />
                  <label class="form-label">Question 1: <span>በተጋባን በመጀመሪያው አመት ላይ የሚታዩ አዳድስ ባህሪያት እንዴት መቋቋም
                      ይቻላል?</span>
                  </label>

                  <div id="genderError" class="error-message"></div>
                </div>

                <!-- Question 2 -->
                <div class="mb-3">
                  <input class="form-check-input" type="radio" name="question" id="q1"
                    value="Question 2: በጋብቻ ውስጥ የእርግዝና መከላከያ መጠቀም ይቻላል ?" required />
                  <label for="question2" class="form-label">Question 2: በጋብቻ ውስጥ የእርግዝና መከላከያ መጠቀም ይቻላል ?</label>

                  <div id="codeError" class="error-message"></div>
                </div>
                <!-- Question 3 -->
                <div class="mb-3">
                  <input class="form-check-input" type="radio" name="question" id="q1"
                    value="Question 3: ልጆቻችንን በአንድ ላይ ተባብረን ማሳደግ አቃተን ምን እናድርግ ?" required />
                  <label for="question3" class="form-label">Question 3: ልጆቻችንን በአንድ ላይ ተባብረን ማሳደግ አቃተን ምን እናድርግ
                    ?</label>

                  <div id="ageError" class="error-message"></div>
                </div>

                <!-- Question 4 -->
                <div class="mb-3">
                  <input class="form-check-input" type="radio" name="question" id="q1"
                    value="Question 4: በገንዘብ ጉዳይ መስማማት አቃተን ምን እናድርግ?" required />
                  <label for="question4" class="form-label">Question 4: በገንዘብ ጉዳይ መስማማት አቃተን ምን እናድርግ?
                  </label>

                  <div id="schoolError" class="error-message"></div>
                </div>

                <!-- Question 5 -->
                <div class="mb-3">
                  <input class="form-check-input" type="radio" name="question" id="q1"
                    value="Question 5: በግብረስጋ ግንኙነት መጣጣም አቃተን ምን እናድርግ?" required />
                  <label for="question5" class="form-label">Question 5: በግብረስጋ ግንኙነት መጣጣም አቃተን ምን እናድርግ?
                  </label>

                  <div id="workError" class="error-message"></div>
                </div>

                <!-- Question 6 -->
                <div class="mb-3">
                  <input class="form-check-input" type="radio" name="question" id="q1"
                    value="Question 6: ተስማምተን በደስታ መኖር አቃተን ምን እናድርግ?" required />
                  <label for="question6" class="form-label">Question 6: ተስማምተን በደስታ መኖር አቃተን ምን እናድርግ?
                  </label>

                  <div id="religionError" class="error-message"></div>
                </div>

                <!-- Question 7 -->
                <div class="mb-3">
                  <input class="form-check-input" type="radio" name="question" id="q1"
                    value="Question 7: የወላጆችን መጥፎ ጣልቃ ገብነት እንዴት ማስቆም ይቻላል?" required />
                  <label for="question7" class="form-label">Question 7: የወላጆችን መጥፎ ጣልቃ ገብነት እንዴት ማስቆም ይቻላል?
                  </label>

                  <div id="currentLocationError" class="error-message"></div>
                </div>

                <!-- Question 8 -->
                <div class="mb-3">
                  <input class="form-check-input" type="radio" name="question" id="q1"
                    value="Question 8: ስለ ፍቺ የምድራዊና የሰማያዊ ህጉ ምን ይላል ?" required />
                  <label for="question8" class="form-label">Question 8: ስለ ፍቺ የምድራዊና የሰማያዊ ህጉ ምን ይላል ?
                  </label>

                  <div id="futurePlanError" class="error-message"></div>
                </div>
                <!-- Question 9 -->
                <div class="mb-3">
                  <input class="form-check-input" type="radio" name="question" id="q1"
                    value="Question 9: የባልና የሚስት የግልና የጋራ ኃላፊነቶች ምን ምን ናቸው ?" required />
                  <label for="question8" class="form-label">Question 9: የባልና የሚስት የግልና የጋራ ኃላፊነቶች ምን ምን ናቸው ?
                  </label>

                  <div id="futurePlanError" class="error-message"></div>
                </div>
                <!-- Question 10 -->
                <div class="mb-3">
                  <input class="form-check-input" type="radio" name="question" id="q1"
                    value="Question 10: ስለ መካንነትና ማስወረድ ምክራችሁ ምንድን ነው ?" required />
                  <label for="question8" class="form-label">Question 10: ስለ መካንነትና ማስወረድ ምክራችሁ ምንድን ነው ?
                  </label>

                  <div id="futurePlanError" class="error-message"></div>
                </div>
                <!-- Question 11 -->
                <div class="mb-3">
                  <input class="form-check-input" type="radio" name="question" id="q1"
                    value="Question 11: ስለ ፖርኖግራፊና ኤች አይ ቪ ኤይድስ ምን ምክር አላችሁ ?" required />
                  <label for="question8" class="form-label">Question 11: ስለ ፖርኖግራፊና ኤች አይ ቪ ኤይድስ ምን ምክር አላችሁ ?
                  </label>

                  <div id="futurePlanError" class="error-message"></div>
                </div>
                <!-- Question 12 -->
                <div class="mb-3">
                  <input class="form-check-input" type="radio" name="question" id="q1"
                    value="Question 12: ሁለተኛ ስለ ማግባት ምን ምክር አላችሁ ?" required />
                  <label for="question8" class="form-label">Question 12: ሁለተኛ ስለ ማግባት ምን ምክር አላችሁ ?
                  </label>

                  <div id="futurePlanError" class="error-message"></div>
                </div>

                <p style="color: #6200c3">Note: *ከላይ ከ 1-12 ካለው ውስጥ የሚፈልጉትን አንድ (1) ምርጫ ብቻ ያስቀምጡ</p>
                <!-- Submit Button -->
                <div>

                  <!-- <button type="button" class="btn btn-primary mt-2" onclick="sub()">
                    next
                  </button> -->

                  <!-- * Please complete payment. -->
                </div>
                <div>
                  <!-- <button type="submit" class="btn btn-primary btn-lg mt-4">
                Submit
                </button> -->
                </div>
              </form>
              <!-- <div class="col-lg-12">
                  <label id="error">hellllll</label>
                </div> -->
              <!--  -->




            </div>
            <div class="tab-pane fade" id="pills-profile" role="tabpanel" aria-labelledby="pills-profile-tab">
              <!-- married form -->
              <div class="flex-item">
                <div class="" style="
                      background-color: #f4f4f4;
                      border-radius: 10px;
                      padding: 29px;
                      border: 2px solid #eaeaea;
                    ">

                  <!-- ==================================================================================================== -->





                  <!-- ==================================================================================================== -->

                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-3"> <!-- 25% width for right column on md screens and above -->

        <div class="custom-section">
          <!-- Content for the right column -->
          <h5 class="text-center mb-4 mt-4" style="color: #6200c3;">
            Choose session & payment Options
          </h5>
          <div class="flex-item">
            <div class=""
              style="border: 1px solid #6200c3; padding: 29px; border-radius: 10px; background-color: #f3e6ff;">
              <form id="f3">
                <fieldset>
                  <legend>

                    <h6>ክፍያ / Select One from payment</h6>
                  </legend>
                  <label>
                    <input type="radio" name="amount" checked value="50" /> $50 - ለአንድ
                    ጊዜ ብቻ
                  </label>
                  <label style="">
                    <input type="radio" name="amount" value="150" /> $150 -
                    ለሦስት ሳምንት
                  </label>
                  <label style="">
                    <input type="radio" name="amount" value="300" /> $300 -
                    ለስድስት ሳምንት
                  </label>
                </fieldset>

                <fieldset class="mt-4">
                  <legend class="h6">ጊዜ / Time & Day good for you</legend>
                  <label>
                    <input type="radio" name="time_Date" checked value="8pm" /> ማክሰኞ
                    (Tuesday) 8pm
                  </label>
                  <label style="">
                    <input type="radio" name="time_Date" value="2pm" /> ሐሙስ
                    (Thursday) 2pm
                  </label>
                  <label style="">
                    <input type="radio" name="time_Date" value="8pm" /> ዓርብ
                    (Friday) 8pm
                  </label>
                </fieldset>

                <div id="paypal-button-container"></div>

                <!-- <div class="accordion-body">
                    <fieldset class="mt-4 mb-4">
                      <legend class="h6">Payment Method</legend>
                      <div class="">Select payment Method</div>
                      <label class="mr-3 mt-3 mb-2">
                        <img src="assests/visa-light.png" width="50px" />
                        <input
                          class="mr-2"
                          type="radio"
                          name="set3"
                          value="option1"
                        />
                        Credit Card
                      </label>
                      <label style="">
                        <img src="assests/paypal-light.png" width="50px" />
                        <input type="radio" name="set3" value="option2" />
                        PayPal
                      </label>
                    </fieldset>
                  </div> -->






                <!-- ============================================================================ -->

                <!-- <div class="container mt-3">
  <div class="row justify-content-center">
    <div class="">
      <div class="card">
        <div class="card-body">
          <h5 class="card-title">Credit Card Information</h5>
          <form>
            <div class="form-group">
              <label style="color:#6200c3" for="cardNumber">Card Number</label>
              <input type="text" class="form-control" id="cardNumber" placeholder="Enter card number">
            </div>
            <div class="form-group label-inline mt-2">
              <label style="color:#6200c3" for="expirationDate">Expiration Date</label>
              <input type="text" class="form-control" id="expirationDate" placeholder="MM/YY">
              <label style="color:#6200c3" for="cvv" class="">CVV</label>
              <input type="text" class="form-control" id="cvv" placeholder="CVV">
            </div>
            <div class="form-group mt-2">
              <label style="color:#6200c3" for="cardholderName">Cardholder Name</label>
              <input type="text" class="form-control" id="cardholderName" placeholder="Enter cardholder name">
            </div>
            <button type="submit" class="btn btn-primary mt-2">Submit</button>
          </form>
        </div>
      </div>
    </div>
  </div>
</div> -->




                <!-- ============================================================================= -->



                <!-- <button
                    type="submit"
                    class="btn btn-primary mt-2 text-center"
                    
                  >
                    Processed Checkout
                  </button> -->

                <!-- <input type="submit" value="Submit"> -->
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  </div>

  <!-- //modal// -->
  <div class="modal modal-sm" id="my-mod">

    <div class="modal-dialog modal-lg">
      <div class=" modal-content">

        <div class="modal-header">
          <img src="assests/logo.png" alt="" class="img-fluid w-50">
          <button class="btn-close" data-bs-dismiss="modal"></button>
        </div>

        <div class="modal-body  text-center">

          <img src="assests/check.svg" alt="" class="img-fluid w-25">
          <h3>Thank You</h3>
          <h4>Your form has been submitted sucessfully</h4>

        </div>


      </div>


    </div>

  </div>


  <!-- footer -->
  <div id="cause" class="container-fluid cause-info" style="background-color: white">
    <div class="row">
      <!-- footer -->
      <footer class="container py-5">
        <div class="row">
          <div class="col-12 col-md">
            <img src="assests/logo.svg" width="300px" />

            <!-- Social Media Section -->
            <div class="container-fluid social-media-section mt-3">
              <div class="row">
                <div class="col-12 text-center">
                  <span style="color: #6200c3; font-size: 14px">Follow Us on Social Media</span>
                  <!-- Add your social media icons or links here -->
                  <p>
                    <!-- Facebook icon -->
                    <a href="https://www.facebook.com/yourfacebookpage" target="_blank"
                      class="social-icon facebook-icon"><i class="fab fa-facebook-square"></i></a>
                    <!-- Example: Twitter icon -->
                    <a href="https://twitter.com/yourtwitterhandle" target="_blank" class="social-icon twitter-icon"><i
                        class="fab fa-twitter-square"></i></a>
                  </p>
                  <small class="d-block mb-3 text-muted">&copy;2024 Salt Of The Earth.</small>
                </div>
              </div>
            </div>
          </div>
          <div class="col-6 col-md">
            <h5>About</h5>
            <ul class="list-unstyled text-small">
              <li><a class="link-secondary" href="#">What is SEICM?</a></li>
              <li><a class="link-secondary" href="#">Faith</a></li>
              <li>
                <a class="link-secondary" href="#">A Message from Founder</a>
              </li>
              <li>
                <a class="link-secondary" href="#">Stuff for developers</a>
              </li>
              <li><a class="link-secondary" href="#">News</a></li>
              <li><a class="link-secondary" href="#">Contact</a></li>
            </ul>
          </div>
          <div class="col-6 col-md">
            <h5>Teaching</h5>
            <ul class="list-unstyled text-small">
              <li><a class="link-secondary" href="#">Counseling</a></li>
              <li><a class="link-secondary" href="#">Marriage Course</a></li>
            </ul>
          </div>
          <div class="col-6 col-md">
            <h5>Learn More</h5>
            <ul class="list-unstyled text-small">
              <li>
                <a class="link-secondary" href="#">Books Recommanded</a>
              </li>
              <li><a class="link-secondary" href="#">Resources</a></li>
              <li><a class="link-secondary" href="#">Common Questions</a></li>
            </ul>
          </div>
          <div class="col-6 col-md">
            <h5>Get Invloved</h5>
            <ul class="list-unstyled text-small">
              <li><a class="link-secondary" href="#">Donate</a></li>
              <li><a class="link-secondary" href="#">Events</a></li>
              <li>
                <a class="link-secondary" href="contact.html">Contact</a>
              </li>
            </ul>
          </div>
        </div>
      </footer>
    </div>
  </div>
  <script src="forms-scripts.js"></script>

  <!-- Bootstrap JS and Popper.js -->
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>

<!-- Include jQuery -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>


  <!-- axios import -->

  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>


  <!-- //paypal // -->
  <!-- // firebase // -->
  <script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-firestore.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-database.js"></script>

  

  <!-- axios import -->

  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

  <script
    src="https://www.paypal.com/sdk/js?client-id=ARSzdCz3Odvqj_Ma3-Gvl0utOxdATZiMMzi8uJgCB0S_wpZ64L30lZsHfqZl6XCHUOc6_URZbPKmdRaq&disable-funding=paylater"></script>
  <script>

    const firebaseConfig = {
      apiKey: "AIzaSyBCrrOLZNZGl31lpjELCwcQONWjc2Nddg8",
      authDomain: "saltofheart-1e10e.firebaseapp.com",
      projectId: "saltofheart-1e10e",
      storageBucket: "saltofheart-1e10e.appspot.com",
      messagingSenderId: "693289956311",
      appId: "1:693289956311:web:3232330f5d059d9edd1192",
      measurementId: "G-J328WPK2T3"
    };
    firebase.initializeApp(firebaseConfig);

    var userdb = firebase.database().ref("counselingMerried");

    
    const sendMail = async (formValue) => {
      const response = await axios.post("https://app-pxy2i5iqyq-uc.a.run.app/mail", {...formValue , type:"married"})

      if (response?.data?.success) {
        $('#my-mod').modal('toggle');
      }
    }

    const showErrorMessage = () => {
      let msgPara = document.getElementById("errorMsg")
      msgPara.classList.remove('d-none')
    }

    paypal.Buttons({

      createOrder: function (data, actions) {

        let formValue = logSelectedFields()

        return actions.order.create({
          purchase_units: [{
            amount: {
              value: formValue.amount
            }
          }]
        })
      },
      onError: function (err) {
        // Show an error message to the buyer
        console.log('An error occurred while processing your payment. Please try again.', err);
      },

      onApprove: function (data, actions) {
        // Capture the funds from the transaction
        return actions.order.capture().then(function (details) {
          console.log(details);

          // Accessing commonly used properties
          var payerName = details.payer.name.given_name;
          var payerEmail = details.payer.email_address;
          var transactionId = details.id;
          var amount = details.purchase_units[0].amount.value;
          var currency = details.purchase_units[0].amount.currency_code;

          let formValue = logSelectedFields()

          formValue = { ...formValue, payerName, payerEmail, transactionId, amount, currency }
          saveMessages(formValue)
            .then(() => {
              sendMail(formValue)
            }).catch((err) => {

            })

          console.log(formValue, 'onApprove')

          // Call your server to save the transaction details (optional)
        });
      }
    }).render('#paypal-button-container');




    // <!-- //Select Question// -->


    // <!-- // payment Method // -->

    function logSelectedFields() {
      var selectedFields = {};

      selectedFields.question = null;
      var radios = document.getElementsByName('question');



      for (var i = 0; i < radios.length; i++) {
        if (radios[i].checked) {
          selectedFields.question = radios[i].value;
          break;
        }
      }

      // Process Questionnaire 1
      selectedFields.amount = null;
      var radios1 = document.getElementsByName('amount');
      for (var i = 0; i < radios1.length; i++) {
        if (radios1[i].checked) {
          selectedFields.amount = radios1[i].value;
          break;
        }
      }

      // Process Questionnaire 2
      selectedFields.time_Date = null;
      var radios2 = document.getElementsByName('time_Date');
      for (var j = 0; j < radios2.length; j++) {
        if (radios2[j].checked) {
          selectedFields.time_Date = radios2[j].value;
          break;
        }
      }

      // Log the selected fields object
      console.log(selectedFields);
      return selectedFields
    }

    const saveMessages = (formVals) => {
      return new Promise((resolve, reject) => {
        var formVal = userdb.push();
        formVal.set({
          ...formVals
        })
          .then(() => {
            console.log("Data saved successfully:", formVals);
            resolve(true); // Resolve the promise indicating success
          })
          .catch((error) => {
            console.error("Error saving data:", error);
            reject(error); // Reject the promise indicating failure
          });
      });
    };


    const getElementVal = (name) => {
      return document.getElementsByName(name).value;
    }   
  </script>




</body>

</html>